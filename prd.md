# PersonaMate Pro: 제품 요구사항 정의서 (PRD)

## 1. 개요 및 목표

**PersonaMate Pro**는 사용자의 소셜 미디어 활동(YouTube 구독, SNS 키워드)과 MBTI 성향을 기반으로 개인화된 콘텐츠를 추천하는 웹 애플리케이션입니다. 사용자는 간단한 OAuth 인증을 통해 자신의 데이터를 연동하고, AI 모델이 분석한 결과를 바탕으로 새로운 YouTube 채널과 웹사이트를 추천받을 수 있습니다.

**핵심 목표:**
*   **자동화된 데이터 수집:** Google OAuth를 통해 사용자의 YouTube 구독 목록을 자동으로 가져옵니다.
*   **개인화된 추천:** 수집된 데이터와 사용자가 직접 입력한 정보를 AI 모델(Google Gemini)로 분석하여 맞춤형 콘텐츠를 제공합니다.
*   **직관적인 사용자 경험:** 복잡한 과정 없이 몇 번의 클릭만으로 추천 결과를 받을 수 있는 간결한 UI를 제공합니다.
*   **결과 활용성 증대:** 추천 결과를 HTML, PDF 파일로 저장하거나 이메일로 전송하여 보관 및 공유가 용이하도록 합니다.

## 2. 사용자 페르소나 및 시나리오

*   **페르소나:** 새로운 콘텐츠를 찾고 싶지만, 직접 검색하는 데 시간을 들이고 싶지 않은 20-30대 소셜 미디어 사용자. 자신의 취향을 잘 설명하기 어려워하며, AI 기반의 자동화된 추천을 선호합니다.
*   **사용자 시나리오:**
    1.  사용자는 PersonaMate Pro 웹사이트에 접속합니다.
    2.  "Google (YouTube) 로그인" 버튼을 클릭하여 자신의 Google 계정으로 로그인하고, YouTube 구독 목록 접근 권한을 부여합니다.
    3.  "데이터 수집" 버튼을 눌러 자신의 구독 채널 목록이 정상적으로 로드되었는지 확인합니다.
    4.  자신의 MBTI를 선택하고, 관심 있는 SNS 키워드를 추가로 입력합니다.
    5.  "분석 & 추천 실행" 버튼을 클릭합니다.
    6.  AI가 분석한 추천 채널 목록과 전체 추천 사유를 확인합니다.
    7.  결과가 마음에 들면 "HTML 저장", "PDF 저장" 버튼을 눌러 파일을 다운로드하거나, 이메일 주소를 입력하고 "이메일로 보내기" 버튼을 눌러 결과를 전송받습니다.

## 3. 기능 요구사항 (Features)

| ID | 기능명 | 설명 | 우선순위 |
| :--- | :--- | :--- | :--- |
| FE-01 | **OAuth 로그인** | Google, Instagram, X 계정으로 OAuth 인증을 시작할 수 있는 버튼을 제공합니다. (현재 Google만 활성화) | `High` |
| FE-02 | **데이터 자동 수집** | OAuth 인증 후, "데이터 수집" 버튼 클릭 시 YouTube 구독 목록을 백엔드에서 가져와 UI에 JSON 형태로 표시합니다. | `High` |
| FE-03 | **수동 데이터 입력** | 사용자가 직접 구독 채널, SNS 키워드, MBTI를 입력하거나 수정할 수 있는 UI를 제공합니다. | `High` |
| FE-04 | **추천 결과 표시** | 백엔드로부터 받은 추천 결과를 테이블 형태로 표시합니다. 채널 이름, 사이트 주소, 추천 사유를 포함합니다. | `High` |
| FE-05 | **클릭 가능한 링크** | 추천 결과의 사이트 주소는 클릭 시 새 창에서 열리는 하이퍼링크로 제공되어야 합니다. | `High` |
| FE-06 | **결과 저장 (HTML/PDF)** | "HTML 저장", "PDF 저장" 버튼을 제공하여, 현재 추천 결과를 파일로 다운로드할 수 있게 합니다. | `Medium` |
| FE-07 | **결과 이메일 전송** | 이메일 주소를 입력하고 "이메일로 보내기" 버튼을 클릭하면, 추천 결과를 해당 이메일로 전송합니다. | `Medium` |
| BE-01 | **Google OAuth API** | `/oauth/google/start`, `/oauth/google/callback` 엔드포인트를 통해 Google OAuth 2.0 인증 및 토큰 교환을 처리합니다. | `High` |
| BE-02 | **YouTube 데이터 API** | `/fetch_data` 엔드포인트에서 인증된 사용자의 YouTube 구독 목록을 가져옵니다. | `High` |
| BE-03 | **AI 추천 API** | `/youtube/recommendations` 엔드포인트에서 사용자 데이터(구독 목록, 키워드, MBTI)를 받아 Gemini API로 전달하고, 추천 결과를 생성하여 JSON으로 반환합니다. | `High` |
| BE-04 | **결과 파일 생성 API** | `/youtube/recommendations/export/{file_type}` 엔드포인트에서 추천 데이터를 받아 HTML 또는 PDF 파일을 생성하고 반환합니다. | `Medium` |
| BE-05 | **이메일 전송 API** | `/youtube/recommendations/email` 엔드포인트에서 추천 데이터와 수신자 이메일을 받아 결과를 전송합니다. | `Medium` |
| DB-01 | **토큰 저장** | 발급받은 OAuth 토큰을 Supabase 데이터베이스에 안전하게 저장하고, 필요 시 재사용합니다. | `High` |

## 4. 비기능 요구사항

*   **배포:** 프론트엔드는 Hugging Face Spaces, 백엔드는 Vercel 서버리스 환경에 배포되어야 합니다.
*   **CI/CD:** `main` 브랜치에 코드가 푸시될 때마다 GitHub Actions를 통해 자동으로 각 플랫폼에 배포되어야 합니다.
*   **성능:** 추천 결과는 2분 이내에 사용자에게 반환되어야 합니다.
*   **보안:** 모든 API 키와 민감 정보는 환경 변수를 통해 안전하게 관리되어야 합니다.

---

다음으로, 이 프로젝트를 진행하면서 겪었던 기술적인 시행착오와 해결 과정을 담은 **TRD (Technical Requirements Document) / Post-mortem** 자료를 작성해 드리겠습니다.
